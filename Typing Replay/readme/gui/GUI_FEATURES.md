# GUI 界面说明

## 界面预览

```
┌─────────────────────────────────────────────────────────────────┐
│  ✨ Typing Replay Engine  [📂][💾][🎬][📖]                      │
├────────────────────────┬────────────────────────────────────────┤
│  脚本编辑器            │  播放控制                               │
│  ┌──────────────────┐ │  ┌──────────────────────────────────┐  │
│  │ {                │ │  │  实时预览:                        │  │
│  │   "actions": [   │ │  │  ┌────────────────────────────┐  │  │
│  │     {            │ │  │  │                            │  │  │
│  │       "type":... │ │  │  │  [预览文本显示区域]         │  │  │
│  │     }            │ │  │  │  带光标标记                 │  │  │
│  │   ]              │ │  │  │                            │  │  │
│  │ }                │ │  │  └────────────────────────────┘  │  │
│  │                  │ │  │                                  │  │
│  │                  │ │  │  播放速度: [━━━━●━━━━━] 1.0x     │  │
│  │                  │ │  │                                  │  │
│  │                  │ │  │  [▶ 播放] [⏸ 暂停] [⏹ 停止]     │  │
│  │                  │ │  │                                  │  │
│  │                  │ │  │  步进模式:                        │  │
│  │                  │ │  │  [◀ 上一步] [▶ 下一步]          │  │
│  │                  │ │  │                                  │  │
│  │                  │ │  │  [████████░░] 80%                │  │
│  └──────────────────┘ │  └──────────────────────────────────┘  │
│  [✓ 验证] [⟲ 重置]    │                                        │
├────────────────────────┴────────────────────────────────────────┤
│  状态: 播放中...               行: 10 | 字符: 156 | 光标: 156  │
└─────────────────────────────────────────────────────────────────┘
```

## 主要功能

### 1. 工具栏
- **📂 打开脚本**: 加载 JSON 文件
- **💾 保存脚本**: 保存当前脚本
- **🎬 演示脚本**: 选择预设示例
- **📖 帮助**: 查看使用说明

### 2. 脚本编辑器（左侧）
- JSON 格式高亮
- 语法验证功能
- 支持复制粘贴
- 自动格式化

**操作按钮**:
- ✓ 验证脚本：检查格式
- ⟲ 重置：恢复默认

### 3. 播放控制（右侧）

#### 实时预览
- 显示打字效果
- 光标位置标记（|）
- 自动滚动显示

#### 播放速度
- 滑块调节：0.1x - 3.0x
- 实时显示倍速
- 影响所有动作

#### 播放按钮
- **▶ 播放**: 开始执行脚本
- **⏸ 暂停**: 暂停播放（待实现）
- **⏹ 停止**: 停止并重置

#### 步进控制
- **◀ 上一步**: 回退一个动作
- **▶ 下一步**: 执行下一个动作
- 适合调试和学习

#### 进度条
- 显示播放进度
- 百分比显示

### 4. 状态栏（底部）
- **左侧**: 当前状态消息
  - 就绪
  - 播放中...
  - 验证通过 ✓
  - 错误信息 ✗
  
- **右侧**: 统计信息
  - 行数
  - 字符数
  - 光标位置

## 颜色标识

- 🟦 **蓝色**: 主要操作（primary）
- 🟩 **绿色**: 成功状态（success）
- 🟧 **橙色**: 警告信息（warning）
- 🟥 **红色**: 错误/停止（danger）
- ⬜ **白色**: 编辑器背景
- ⬛ **深灰**: 文字颜色

## 快捷操作

### 编辑器快捷键
- `Ctrl + A`: 全选
- `Ctrl + C`: 复制
- `Ctrl + V`: 粘贴
- `Ctrl + Z`: 撤销

### 文件操作（计划中）
- `Ctrl + O`: 打开文件
- `Ctrl + S`: 保存文件
- `F5`: 验证脚本

### 播放控制（计划中）
- `Space`: 播放/暂停
- `Ctrl + R`: 重新播放
- `Esc`: 停止

## 使用流程

### 流程 1: 快速体验
1. 启动 GUI: `python gui.py`
2. 点击 **🎬 演示脚本**
3. 选择 "Hello World"
4. 点击 **▶ 播放**
5. 观察预览区效果

### 流程 2: 编辑脚本
1. 在编辑器中修改 JSON
2. 点击 **✓ 验证脚本**
3. 调整播放速度（可选）
4. 点击 **▶ 播放**

### 流程 3: 步进调试
1. 加载或编写脚本
2. 点击 **▶ 下一步**
3. 观察每步变化
4. 使用 **◀ 上一步** 回退
5. 调整并重试

### 流程 4: 保存作品
1. 编辑完成脚本
2. 点击 **💾 保存脚本**
3. 选择保存位置
4. 输入文件名
5. 保存为 .json

## 常见问题

### Q: GUI 无法启动？
**A**: 检查 Python 版本（需要 3.7+）和 tkinter 安装。

在 Ubuntu/Debian:
```bash
sudo apt-get install python3-tk
```

在 macOS:
```bash
# tkinter 通常已包含在 Python 中
```

在 Windows:
```bash
# 重新安装 Python，勾选 tcl/tk 选项
```

### Q: 脚本验证失败？
**A**: 
1. 检查 JSON 格式（括号、引号、逗号）
2. 使用在线 JSON 验证工具
3. 查看详细错误信息

### Q: 中文显示乱码？
**A**:
1. 确保文件保存为 UTF-8 编码
2. 检查系统字体是否支持中文
3. 在 JSON 中避免使用特殊字符

### Q: 播放卡顿？
**A**:
1. 减少动作数量
2. 降低播放速度
3. 使用 `insert` 代替长文本的 `type`

### Q: 如何导出视频？
**A**: 当前版本暂不支持，可以：
1. 使用步进模式手动截图
2. 使用屏幕录制软件
3. 等待未来版本更新

## 技术限制

### 当前不支持
- ❌ 暂停功能（开发中）
- ❌ 循环播放
- ❌ 实时编辑预览
- ❌ 语法高亮
- ❌ 自动补全
- ❌ 视频导出

### 计划功能
- ⏳ 暂停/继续
- ⏳ 快捷键完善
- ⏳ 主题切换
- ⏳ 帧序列导出
- ⏳ 撤销/重做历史

## 性能建议

### 最佳实践
- ✅ 动作数量 < 100
- ✅ 单个脚本 < 5 分钟
- ✅ 文本长度 < 10000 字符

### 优化技巧
- 使用 `insert` 插入大段文本
- 合并连续的相同类型动作
- 避免过多的短停顿

## 界面自定义

修改 `gui.py` 中的配色方案：

```python
self.colors = {
    'bg': '#f5f5f5',        # 背景色
    'fg': '#2c3e50',        # 前景色
    'primary': '#3498db',   # 主色调
    'success': '#27ae60',   # 成功色
    'warning': '#f39c12',   # 警告色
    'danger': '#e74c3c',    # 危险色
    'editor_bg': '#ffffff', # 编辑器背景
    'editor_fg': '#2c3e50', # 编辑器文字
}
```

## 故障排除

### 问题：窗口太小
**解决**: 修改 `gui.py` 中的窗口大小
```python
self.root.geometry("1400x900")  # 调整尺寸
```

### 问题：字体太小
**解决**: 修改字体设置
```python
font=('Consolas', 12)  # 增大字号
```

### 问题：颜色看不清
**解决**: 使用暗色主题或调整对比度

## 获取帮助

- 📖 查看 [GUI_TUTORIAL.md](GUI_TUTORIAL.md)
- 📚 阅读 [EXAMPLES_GALLERY.md](EXAMPLES_GALLERY.md)
- 💻 研究 [ADVANCED_TUTORIAL.md](ADVANCED_TUTORIAL.md)
- 🐛 提交 Issue 或 Pull Request

---

**祝您使用愉快！** 🎨✨
